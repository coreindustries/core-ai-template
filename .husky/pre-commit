#!/usr/bin/env sh

# Pre-commit hook: Run lint-staged on staged files
# Setup: npx husky init (or see Makefile)
#
# For Python projects, replace with:
#   uv run pre-commit run --staged
#
# For Go projects, replace with:
#   golangci-lint run --new-from-rev=HEAD

# Secret and PII scanning (non-blocking if gitleaks not installed)
if [ -f "scripts/scan-secrets.sh" ]; then
  scripts/scan-secrets.sh --staged
fi

npx lint-staged
